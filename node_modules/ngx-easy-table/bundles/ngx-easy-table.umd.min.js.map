{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","../projects/ngx-easy-table/src/lib/model/config.ts","../projects/ngx-easy-table/src/lib/model/event.enum.ts","../projects/ngx-easy-table/src/lib/model/api.ts","../projects/ngx-easy-table/src/lib/services/config-service.ts","../projects/ngx-easy-table/src/lib/services/group-rows.service.ts","../projects/ngx-easy-table/src/lib/services/style.service.ts","../esm2015/projects/ngx-easy-table/src/lib/components/base/base.component.ts","../esm2015/projects/ngx-easy-table/src/lib/components/header/header.component.ts","../esm2015/projects/ngx-easy-table/src/lib/components/pagination/pagination.component.ts","../projects/ngx-easy-table/src/lib/pipes/global-search-pipe.ts","../projects/ngx-easy-table/src/lib/services/filters.service.ts","../projects/ngx-easy-table/src/lib/pipes/render-pipe.ts","../projects/ngx-easy-table/src/lib/pipes/search-pipe.ts","../projects/ngx-easy-table/src/lib/pipes/sort.pipe.ts","../esm2015/projects/ngx-easy-table/src/lib/components/thead/thead.component.ts","../esm2015/projects/ngx-easy-table/src/lib/components/base/base.module.ts","../../projects/ngx-easy-table/src/lib/table.module.ts"],"names":["Object","create","__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","__spread","arguments","length","concat","STYLE","THEME","Event","API","DefaultConfig","searchEnabled","headerEnabled","orderEnabled","orderEventOnly","paginationEnabled","exportEnabled","clickEvent","selectRow","selectCol","selectCell","rows","additionalActions","serverPagination","isLoading","detailsTemplate","groupRows","paginationRangeEnabled","collapseAllRows","checkboxes","radio","resizeColumn","fixedColumnWidth","horizontalScroll","draggable","logger","showDetailsArrow","showContextMenu","persistState","paginationMaxSize","threeWaySort","tableLayout","style","NORMAL","theme","LIGHT","borderless","hover","striped","DefaultConfigService","config","Injectable","GroupRowsService","doGroupRows","data","groupRowsBy","grouped","from","pipe","groupBy","row","mergeMap","group","reduce","acc","curr","subscribe","StyleService","prototype","setRowClass","val","selector","document","querySelector","classList","add","className","setCellClass","cell","setRowStyle","attr","setCellStyle","pinnedWidth","pinned","column","BaseComponent","cdr","scrollDispatcher","styleService","_this","this","unsubscribe","Subject","filterCount","filteredCountSubject","tableClass","isSelected","page","count","sortState","Map","sortKey","rowContextMenuPosition","top","left","sortBy","key","order","selectedDetailsTemplateRowId","Set","selectedCheckboxes","id","event","EventEmitter","takeUntil","setTimeout","detectChanges","onContextMenuClick","targetElement","contextMenu","nativeElement","contains","ngOnInit","columns","console","configuration","limit","doDecodePersistedState","ngOnDestroy","complete","ngAfterViewInit","throttleValue","infiniteScrollThrottleTime","scrolled","throttleTime","filter","viewPort","getRenderedRange","end","getDataLength","emitEvent","onInfiniteScrollEnd","ngOnChanges","changes","pagination","toggleRowIndex","currentValue","doApplyData","_a","offset","collapseRow","index","orderBy","setColumnOrder","get","assign","onOrder","onClick","$event","colIndex","rowIndex","selectedRow","selectedCol","rowId","colId","onDoubleClick","onCheckboxSelect","onRadioSelect","onSelectAll","onSearch","term","onGlobalSearch","globalSearchTerm","onPagination","toggleCheckbox","has","delete","onRowCollapsedHide","onRowCollapsedShow","localStorage","getItem","sort","search","JSON","parse","bindApi","type","setInputValue","isRowCollapsed","defineProperty","table","getElementById","offsetHeight","onRowContextMenu","preventDefault","pageY","pageX","find","c","set","onDrop","onRowDrop","moveItemInArray","previousIndex","currentIndex","apiEvent","rowContextMenuClicked","toolPanelClicked","forEach","input","element","Array","isArray","setTableClass","getPaginationTotalItems","paginationComponent","paginationDirective","getTotalItems","getPaginationCurrentPage","getCurrent","getPaginationLastPage","getLastPage","getNumberOfRowsPerPage","isLastPage","setPaginationCurrentPage","setCurrent","setPaginationRange","ranges","setPaginationPreviousLabel","previousLabel","setPaginationNextLabel","nextLabel","setPaginationDisplayLimit","changeLimit","title","undefined","size","temp","clear","emit","setItem","stringify","log","Component","args","providers","template","changeDetection","ChangeDetectionStrategy","OnPush","ChangeDetectorRef","ScrollDispatcher","Input","Output","ContentChild","TemplateRef","static","ViewChild","CdkVirtualScrollViewport","HostListener","HeaderComponent","update","unifyKey","replace","PaginationComponent","updateRange","showRange","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel","directionLinks","paginationRange","selectedLimit","onPageChange","callFromAPI","GlobalSearchPipe","transform","array","keys","arr","values","split","some","string","toLocaleLowerCase","indexOf","trim","Pipe","name","FiltersService","getPath","p","xs","x","RenderPipe","SearchPipe","filters","f","toString","map","filterGroup","obj","every","SortPipe","defaultArray","isNaN","aV","bV","parseFloat","isFinite","compare","a","b","aPath","bPath","aValue","toLowerCase","bValue","localeCompare","sortAsc","sortDesc","TableTHeadComponent","menuActive","openedHeaderActionTemplate","onSelectAllBinded","bind","selectAll","additionalActionMenu","getColumnDefinition","isOrderEnabled","columnOrderEnabled","columnDrop","getColumnWidth","width","onMouseDown","th","startOffset","offsetWidth","onColumnResizeMouseDown","onMouseMove","cursor","onMouseUp","onColumnResizeMouseUp","showHeaderActionTemplateMenu","headerActionTemplate","showMenu","additionalActionsTemplate","NgModule","declarations","imports","CommonModule","NgxPaginationModule","DragDropModule","ScrollingModule","exports","BaseModule"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export interface Config {\n  searchEnabled: boolean;\n  headerEnabled: boolean;\n  orderEnabled: boolean;\n  orderEventOnly?: boolean;\n  paginationEnabled: boolean;\n  /* @deprecated */\n  exportEnabled?: boolean;\n  clickEvent: boolean;\n  selectRow: boolean;\n  selectCol: boolean;\n  selectCell: boolean;\n  rows: number;\n  additionalActions: boolean;\n  serverPagination: boolean;\n  isLoading: boolean;\n  detailsTemplate: boolean;\n  groupRows: boolean;\n  paginationRangeEnabled: boolean;\n  collapseAllRows: boolean;\n  checkboxes: boolean;\n  radio?: boolean;\n  resizeColumn: boolean;\n  fixedColumnWidth: boolean;\n  horizontalScroll: boolean;\n  /* @deprecated Use 'rowReorder' instead */\n  draggable: boolean;\n  logger: boolean;\n  showDetailsArrow?: boolean;\n  showContextMenu?: boolean;\n  persistState?: boolean;\n  paginationMaxSize?: number;\n  threeWaySort?: boolean;\n  columnReorder?: boolean;\n  rowReorder?: boolean;\n  infiniteScroll?: boolean;\n  infiniteScrollThrottleTime?: number;\n  tableLayout: {\n    style: STYLE | string | null;\n    theme: THEME | string | null;\n    borderless: boolean | null;\n    hover: boolean | null;\n    striped: boolean | null;\n  };\n}\n\nexport enum STYLE {\n  TINY = 'tiny',\n  BIG = 'big',\n  NORMAL = 'normal',\n}\n\nexport enum THEME {\n  LIGHT = 'light',\n  DARK = 'dark',\n}\n","export enum Event {\n  onPagination = 'onPagination',\n  onOrder = 'onOrder',\n  onGlobalSearch = 'onGlobalSearch',\n  onSearch = 'onSearch',\n  onClick = 'onClick',\n  onDoubleClick = 'onDoubleClick',\n  onCheckboxSelect = 'onCheckboxSelect',\n  onRadioSelect = 'onRadioSelect',\n  onCheckboxToggle = 'onCheckboxToggle',\n  onSelectAll = 'onSelectAll',\n  onInfiniteScrollEnd = 'onInfiniteScrollEnd',\n  onColumnResizeMouseDown = 'onColumnResizeMouseDown',\n  onColumnResizeMouseUp = 'onColumnResizeMouseUp',\n  onRowDrop = 'onRowDrop',\n  onRowCollapsedShow = 'onRowCollapsedShow',\n  onRowCollapsedHide = 'onRowCollapsedHide',\n  onRowContextMenu = 'onRowContextMenu',\n}\n","export enum API {\n  rowContextMenuClicked = 'rowContextMenuClicked',\n  setInputValue = 'setInputValue',\n  toolPanelClicked = 'toolPanelClicked',\n  toggleRowIndex = 'toggleRowIndex',\n  toggleCheckbox = 'toggleCheckbox',\n  onGlobalSearch = 'onGlobalSearch',\n  setPaginationCurrentPage = 'setPaginationCurrentPage',\n  getPaginationCurrentPage = 'getPaginationCurrentPage',\n  getPaginationTotalItems = 'getPaginationTotalItems',\n  getNumberOfRowsPerPage = 'getNumberOfRowsPerPage',\n  getPaginationLastPage = 'getPaginationLastPage',\n  setPaginationRange = 'setPaginationRange',\n  setPaginationPreviousLabel = 'setPaginationPreviousLabel',\n  setPaginationNextLabel = 'setPaginationNextLabel',\n  setPaginationDisplayLimit = 'setPaginationDisplayLimit',\n  setTableClass = 'setTableClass',\n  setRowClass = 'setRowClass',\n  setCellClass = 'setCellClass',\n  setRowStyle = 'setRowStyle',\n  setCellStyle = 'setCellStyle',\n  sortBy = 'sortBy',\n}\n\nexport interface RowClass {\n  row: number;\n  className: string;\n}\nexport interface CellClass {\n  row: number;\n  cell: number | string;\n  className: string;\n}\nexport interface RowStyle {\n  row: number;\n  attr: string;\n  value: string;\n}\nexport interface CellStyle {\n  row: number;\n  cell: number;\n  attr: string;\n  value: string;\n}\n\nexport type ApiType =\n  | { type: API.rowContextMenuClicked }\n  | { type: API.setInputValue; value: Array<{ key: string; value: string }> }\n  | { type: API.toolPanelClicked }\n  | { type: API.toggleRowIndex; value: number }\n  | { type: API.toggleCheckbox; value: number }\n  | { type: API.onGlobalSearch; value: string }\n  | { type: API.setPaginationCurrentPage; value: number }\n  | { type: API.getPaginationCurrentPage }\n  | { type: API.getPaginationTotalItems }\n  | { type: API.getPaginationLastPage }\n  | { type: API.getNumberOfRowsPerPage }\n  | { type: API.setPaginationRange; value: number[] }\n  | { type: API.setPaginationPreviousLabel; value: string }\n  | { type: API.setPaginationNextLabel; value: string }\n  | { type: API.setPaginationDisplayLimit; value: number }\n  | { type: API.setTableClass; value: string | null }\n  | { type: API.setRowClass; value: RowClass | RowClass[] }\n  | { type: API.setCellClass; value: CellClass | CellClass[] }\n  | { type: API.setRowStyle; value: RowStyle | RowStyle[] }\n  | { type: API.setCellStyle; value: CellStyle | CellStyle[] }\n  | { type: API.sortBy; value: { column: string; order: 'asc' | 'desc' } };\n\nexport interface APIDefinition {\n  apiEvent<B extends ApiType>(event: B): IAPIDefinition<B>;\n}\n\nexport type IAPIDefinition<B> = B extends\n  | { type: API.getPaginationCurrentPage }\n  | { type: API.getPaginationTotalItems }\n  | { type: API.getPaginationLastPage }\n  | { type: API.getNumberOfRowsPerPage }\n  ? number\n  : void;\n","import { Injectable } from '@angular/core';\nimport { Config, STYLE, THEME } from '../model/config';\n\n// tslint:disable-next-line:variable-name\nexport const DefaultConfig: Config = {\n  searchEnabled: false,\n  headerEnabled: true,\n  orderEnabled: true,\n  orderEventOnly: false,\n  paginationEnabled: true,\n  exportEnabled: false,\n  clickEvent: true,\n  selectRow: false,\n  selectCol: false,\n  selectCell: false,\n  rows: 10,\n  additionalActions: false,\n  serverPagination: false,\n  isLoading: false,\n  detailsTemplate: false,\n  groupRows: false,\n  paginationRangeEnabled: true,\n  collapseAllRows: false,\n  checkboxes: false,\n  radio: false,\n  resizeColumn: false,\n  fixedColumnWidth: true,\n  horizontalScroll: false,\n  draggable: false,\n  logger: false,\n  showDetailsArrow: false,\n  showContextMenu: false,\n  persistState: false,\n  paginationMaxSize: 5,\n  threeWaySort: false,\n  tableLayout: {\n    style: STYLE.NORMAL,\n    theme: THEME.LIGHT,\n    borderless: false,\n    hover: true,\n    striped: false,\n  },\n};\n\n@Injectable()\nexport class DefaultConfigService {\n  public static config: Config = DefaultConfig;\n}\n","import { Injectable } from '@angular/core';\nimport { from } from 'rxjs';\nimport { mergeMap, groupBy, reduce } from 'rxjs/operators';\n\n@Injectable()\nexport class GroupRowsService {\n  public static doGroupRows<T>(data: T[], groupRowsBy: string): any[] {\n    const grouped: any[] = [];\n    from(data)\n      .pipe(\n        groupBy((row) => row[groupRowsBy]),\n        mergeMap((group) => group.pipe(reduce((acc: T[], curr: T) => [...acc, curr], [])))\n      )\n      .subscribe((row) => grouped.push(row));\n\n    return grouped;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CellClass, CellStyle, RowClass, RowStyle } from '..';\n\n/* tslint:disable:no-useless-cast */\n@Injectable()\nexport class StyleService {\n  public setRowClass(val: RowClass): void {\n    const selector = `#table > tbody > tr:nth-child(${val.row})`;\n    const row = document.querySelector(selector) as HTMLTableRowElement;\n    if (row) {\n      row.classList.add(val.className);\n    }\n  }\n\n  public setCellClass(val: CellClass): void {\n    const selector = `#table > tbody > tr:nth-child(${val.row}) > td:nth-child(${val.cell})`;\n    const cell = document.querySelector(selector) as HTMLTableCellElement;\n    if (cell) {\n      cell.classList.add(val.className);\n    }\n  }\n\n  public setRowStyle(val: RowStyle): void {\n    const selector = `#table > tbody > tr:nth-child(${val.row})`;\n    const row = document.querySelector(selector) as HTMLTableRowElement;\n    if (row) {\n      // tslint:disable-next-line:no-string-literal\n      row.style[val.attr] = val.value;\n    }\n  }\n\n  public setCellStyle(val: CellStyle): void {\n    const selector = `#table > tbody > tr:nth-child(${val.row}) > td:nth-child(${val.cell})`;\n    const cell = document.querySelector(selector) as HTMLTableCellElement;\n    if (cell) {\n      // tslint:disable-next-line:no-string-literal\n      cell.style[val.attr] = val.value;\n    }\n  }\n\n  public pinnedWidth(pinned: boolean, column: number): string | undefined {\n    if (pinned) {\n      return 150 * column + 'px';\n    }\n  }\n}\n","import { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  EventEmitter,\n  HostListener,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChange,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild,\n} from '@angular/core';\n\nimport { API, ApiType, Columns, Config, Event, Pagination } from '../..';\nimport { DefaultConfigService } from '../../services/config-service';\nimport { PaginationComponent, PaginationRange } from '../pagination/pagination.component';\nimport { GroupRowsService } from '../../services/group-rows.service';\nimport { StyleService } from '../../services/style.service';\nimport { Subject } from 'rxjs';\nimport { CdkVirtualScrollViewport, ScrollDispatcher } from '@angular/cdk/scrolling';\nimport { filter, takeUntil, throttleTime } from 'rxjs/operators';\n\ntype ColumnKeyType = string | number | boolean;\n\ninterface RowContextMenuPosition {\n  top: string | null;\n  left: string | null;\n  value: any | null;\n}\n\n@Component({\n  selector: 'ngx-table',\n  providers: [DefaultConfigService, GroupRowsService, StyleService],\n  templateUrl: './base.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class BaseComponent implements OnInit, OnChanges, AfterViewInit, OnDestroy {\n  private unsubscribe = new Subject<void>();\n  public selectedRow: number;\n  public selectedCol: number;\n  public term: any;\n  public filterCount = -1;\n  public filteredCountSubject = new Subject<number>();\n  public tableClass: string | null = null;\n  public globalSearchTerm: string;\n  public grouped: any = [];\n  public isSelected = false;\n  public page = 1;\n  public count = 0;\n  public sortState = new Map();\n  public sortKey: string | null = null;\n  public rowContextMenuPosition: RowContextMenuPosition = {\n    top: null,\n    left: null,\n    value: null,\n  };\n  public limit;\n  public sortBy: { key: string } & { order: string } = {\n    key: '',\n    order: 'asc',\n  };\n  public selectedDetailsTemplateRowId = new Set<number>();\n  public selectedCheckboxes = new Set<number>();\n  public config: Config;\n\n  @Input() configuration: Config;\n  @Input() data: any[];\n  @Input() pagination: Pagination;\n  @Input() groupRowsBy: string;\n  @Input() id = 'table';\n  @Input() toggleRowIndex;\n  @Input() detailsTemplate: TemplateRef<any>;\n  @Input() summaryTemplate: TemplateRef<{ total: number; limit: number; page: number }>;\n  @Input() groupRowsHeaderTemplate: TemplateRef<any>;\n  @Input() filtersTemplate: TemplateRef<any>;\n  @Input() selectAllTemplate: TemplateRef<any>;\n  @Input() noResultsTemplate: TemplateRef<void>;\n  @Input() loadingTemplate: TemplateRef<void>;\n  @Input() additionalActionsTemplate: TemplateRef<void>;\n  @Input() rowContextMenu: TemplateRef<any>;\n  @Input() columns: Columns[];\n  @Output() readonly event = new EventEmitter<{ event: string; value: any }>();\n  @ContentChild(TemplateRef, { static: true }) public rowTemplate: TemplateRef<any>;\n  @ViewChild('paginationComponent') private paginationComponent: PaginationComponent;\n  @ViewChild('contextMenu') contextMenu;\n  @ViewChild(CdkVirtualScrollViewport) viewPort: CdkVirtualScrollViewport;\n\n  @HostListener('document:click', ['$event.target'])\n  public onContextMenuClick(targetElement: any): void {\n    if (this.contextMenu && !this.contextMenu.nativeElement.contains(targetElement)) {\n      this.rowContextMenuPosition = {\n        top: null,\n        left: null,\n        value: null,\n      };\n    }\n  }\n\n  constructor(\n    private readonly cdr: ChangeDetectorRef,\n    private readonly scrollDispatcher: ScrollDispatcher,\n    public readonly styleService: StyleService\n  ) {\n    this.filteredCountSubject.pipe(takeUntil(this.unsubscribe)).subscribe((count) => {\n      setTimeout(() => {\n        this.filterCount = count;\n        this.cdr.detectChanges();\n      });\n    });\n  }\n\n  ngOnInit(): void {\n    if (!this.columns) {\n      console.error('[columns] property required!');\n    }\n    if (this.configuration) {\n      this.config = this.configuration;\n    } else {\n      this.config = DefaultConfigService.config;\n    }\n    this.limit = this.config.rows;\n    if (this.groupRowsBy) {\n      this.grouped = GroupRowsService.doGroupRows(this.data, this.groupRowsBy);\n    }\n    this.doDecodePersistedState();\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribe.next();\n    this.unsubscribe.complete();\n  }\n\n  ngAfterViewInit(): void {\n    const throttleValue = this.config.infiniteScrollThrottleTime\n      ? this.config.infiniteScrollThrottleTime\n      : 200;\n    this.scrollDispatcher\n      .scrolled()\n      .pipe(\n        throttleTime(throttleValue),\n        filter((event) => {\n          return (\n            !!event &&\n            this.viewPort &&\n            this.viewPort.getRenderedRange().end === this.viewPort.getDataLength()\n          );\n        }),\n        takeUntil(this.unsubscribe)\n      )\n      .subscribe(() => {\n        this.emitEvent(Event.onInfiniteScrollEnd, null);\n      });\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const { configuration, data, pagination, groupRowsBy } = changes;\n    this.toggleRowIndex = changes.toggleRowIndex;\n    if (configuration && configuration.currentValue) {\n      this.config = configuration.currentValue;\n    }\n    if (data && data.currentValue) {\n      this.doApplyData(data);\n    }\n    if (pagination && pagination.currentValue) {\n      const { count, limit, offset } = pagination.currentValue as Pagination;\n      this.count = count;\n      this.limit = limit;\n      this.page = offset;\n    }\n    if (groupRowsBy && groupRowsBy.currentValue) {\n      this.grouped = GroupRowsService.doGroupRows(this.data, this.groupRowsBy);\n    }\n    if (this.toggleRowIndex && this.toggleRowIndex.currentValue) {\n      const row = this.toggleRowIndex.currentValue;\n      this.collapseRow(row.index);\n    }\n  }\n\n  orderBy(column: Columns): void {\n    if (typeof column.orderEnabled !== 'undefined' && !column.orderEnabled) {\n      return;\n    }\n    this.sortKey = column.key;\n    if (!this.config.orderEnabled || this.sortKey === '') {\n      return;\n    }\n\n    this.setColumnOrder(this.sortKey);\n    if (!this.config.orderEventOnly && !column.orderEventOnly) {\n      this.sortBy.key = this.sortKey;\n      this.sortBy.order = this.sortState.get(this.sortKey);\n    } else {\n      this.sortBy.key = '';\n      this.sortBy.order = '';\n    }\n    if (!this.config.serverPagination) {\n      this.data = [...this.data];\n      this.sortBy = { ...this.sortBy };\n    }\n\n    const value = {\n      key: this.sortKey,\n      order: this.sortState.get(this.sortKey),\n    };\n    this.emitEvent(Event.onOrder, value);\n  }\n\n  onClick(\n    $event: MouseEvent,\n    row: object,\n    key: ColumnKeyType,\n    colIndex: any,\n    rowIndex: number\n  ): void {\n    if (this.config.selectRow) {\n      this.selectedRow = rowIndex;\n    }\n    if (this.config.selectCol && colIndex) {\n      this.selectedCol = colIndex;\n    }\n    if (this.config.selectCell && colIndex) {\n      this.selectedRow = rowIndex;\n      this.selectedCol = colIndex;\n    }\n\n    if (this.config.clickEvent) {\n      const value = {\n        event: $event,\n        row,\n        key,\n        rowId: rowIndex,\n        colId: colIndex,\n      };\n      this.emitEvent(Event.onClick, value);\n    }\n  }\n\n  onDoubleClick(\n    $event: MouseEvent,\n    row: object,\n    key: ColumnKeyType,\n    colIndex: any,\n    rowIndex: number\n  ): void {\n    const value = {\n      event: $event,\n      row,\n      key,\n      rowId: rowIndex,\n      colId: colIndex,\n    };\n    this.emitEvent(Event.onDoubleClick, value);\n  }\n\n  onCheckboxSelect($event: object, row: object, rowIndex: number): void {\n    const value = {\n      event: $event,\n      row,\n      rowId: rowIndex,\n    };\n    this.emitEvent(Event.onCheckboxSelect, value);\n  }\n\n  onRadioSelect($event: object, row: object, rowIndex: number): void {\n    const value = {\n      event: $event,\n      row,\n      rowId: rowIndex,\n    };\n    this.emitEvent(Event.onRadioSelect, value);\n  }\n\n  onSelectAll(): void {\n    this.isSelected = !this.isSelected;\n    this.emitEvent(Event.onSelectAll, this.isSelected);\n  }\n\n  onSearch($event: Array<{ key: string; value: string }>): void {\n    if (!this.config.serverPagination) {\n      this.term = $event;\n    }\n    this.emitEvent(Event.onSearch, $event);\n  }\n\n  onGlobalSearch(value: string): void {\n    if (!this.config.serverPagination) {\n      this.globalSearchTerm = value;\n    }\n    this.emitEvent(Event.onGlobalSearch, value);\n  }\n\n  onPagination(pagination: PaginationRange): void {\n    this.page = pagination.page;\n    this.limit = pagination.limit;\n    this.emitEvent(Event.onPagination, pagination);\n  }\n\n  toggleCheckbox(rowIndex: number): void {\n    this.selectedCheckboxes.has(rowIndex)\n      ? this.selectedCheckboxes.delete(rowIndex)\n      : this.selectedCheckboxes.add(rowIndex);\n  }\n\n  collapseRow(rowIndex: number): void {\n    if (this.selectedDetailsTemplateRowId.has(rowIndex)) {\n      this.selectedDetailsTemplateRowId.delete(rowIndex);\n      this.emitEvent(Event.onRowCollapsedHide, rowIndex);\n    } else {\n      this.selectedDetailsTemplateRowId.add(rowIndex);\n      this.emitEvent(Event.onRowCollapsedShow, rowIndex);\n    }\n  }\n\n  private doDecodePersistedState(): void {\n    if (!this.config.persistState) {\n      return;\n    }\n    const pagination = localStorage.getItem(Event.onPagination);\n    const sort = localStorage.getItem(Event.onOrder);\n    const search = localStorage.getItem(Event.onSearch);\n    if (pagination) {\n      this.onPagination(JSON.parse(pagination));\n    }\n    if (sort) {\n      const { key, order } = JSON.parse(sort);\n      this.bindApi({\n        type: API.sortBy,\n        value: { column: key, order },\n      });\n    }\n    if (search) {\n      this.bindApi({\n        type: API.setInputValue,\n        value: JSON.parse(search),\n      });\n    }\n  }\n\n  isRowCollapsed(rowIndex: number): boolean {\n    if (this.config.collapseAllRows) {\n      return true;\n    }\n    return this.selectedDetailsTemplateRowId.has(rowIndex);\n  }\n\n  get loadingHeight(): number {\n    const table = document.getElementById(this.id) as HTMLTableElement;\n    if (table && table.rows && table.rows.length > 3) {\n      const searchEnabled = this.config.searchEnabled ? 1 : 0;\n      const headerEnabled = this.config.headerEnabled ? 1 : 0;\n      const borderTrHeight = 1;\n      const borderDivHeight = 2;\n      return (\n        (table.rows.length - searchEnabled - headerEnabled) *\n          (table.rows[3].offsetHeight - borderTrHeight) -\n        borderDivHeight\n      );\n    }\n\n    return 30;\n  }\n\n  get arrowDefinition(): boolean {\n    return this.config.showDetailsArrow || typeof this.config.showDetailsArrow === 'undefined';\n  }\n\n  onRowContextMenu(\n    $event: MouseEvent,\n    row: object,\n    key: ColumnKeyType,\n    colIndex: any,\n    rowIndex: number\n  ): void {\n    if (!this.config.showContextMenu) {\n      return;\n    }\n    $event.preventDefault();\n    const value = {\n      event: $event,\n      row,\n      key,\n      rowId: rowIndex,\n      colId: colIndex,\n    };\n    this.rowContextMenuPosition = {\n      top: `${$event.pageY - 10}px`,\n      left: `${$event.pageX - 10}px`,\n      value,\n    };\n\n    this.emitEvent(Event.onRowContextMenu, value);\n  }\n\n  private doApplyData(data: SimpleChange): void {\n    const order = this.columns.find((c) => !!c.orderBy);\n    if (order) {\n      this.sortState.set(this.sortKey, order.orderBy === 'asc' ? 'desc' : 'asc');\n      this.orderBy(order);\n    } else {\n      this.data = [...data.currentValue];\n    }\n  }\n\n  onDrop(event: CdkDragDrop<string[]>): void {\n    this.emitEvent(Event.onRowDrop, event);\n    moveItemInArray(this.data, event.previousIndex, event.currentIndex);\n  }\n\n  // DO NOT REMOVE. It is called from parent component. See src/app/demo/api-doc/api-doc.component.ts\n  apiEvent(event: ApiType): void | number {\n    return this.bindApi(event);\n  }\n\n  // tslint:disable:no-big-function cognitive-complexity mccabe-complexity\n  private bindApi(event: ApiType): void | number {\n    switch (event.type) {\n      case API.rowContextMenuClicked:\n        this.rowContextMenuPosition = {\n          top: null,\n          left: null,\n          value: null,\n        };\n        break;\n      case API.toolPanelClicked:\n        // TODO\n        break;\n      case API.toggleRowIndex:\n        this.collapseRow(event.value);\n        break;\n      case API.toggleCheckbox:\n        this.toggleCheckbox(event.value);\n        break;\n      case API.setInputValue:\n        if (this.config.searchEnabled) {\n          event.value.forEach((input) => {\n            const element = document.getElementById(`search_${input.key}`) as HTMLInputElement;\n            if (!element) {\n              console.error(\n                `Column '${input.key}' not available in the DOM. Have you misspelled a name?`\n              );\n            } else {\n              element.value = input.value;\n            }\n          });\n        }\n        this.onSearch(event.value);\n        this.cdr.detectChanges();\n        break;\n      case API.onGlobalSearch:\n        this.onGlobalSearch(event.value);\n        this.cdr.detectChanges();\n        break;\n      case API.setRowClass:\n        if (Array.isArray(event.value)) {\n          event.value.forEach((val) => this.styleService.setRowClass(val));\n          break;\n        }\n        this.styleService.setRowClass(event.value);\n        this.cdr.detectChanges();\n        break;\n      case API.setCellClass:\n        if (Array.isArray(event.value)) {\n          event.value.forEach((val) => this.styleService.setCellClass(val));\n          break;\n        }\n        this.styleService.setCellClass(event.value);\n        break;\n      case API.setRowStyle:\n        if (Array.isArray(event.value)) {\n          event.value.forEach((val) => this.styleService.setRowStyle(val));\n          break;\n        }\n        this.styleService.setRowStyle(event.value);\n        break;\n      case API.setCellStyle:\n        if (Array.isArray(event.value)) {\n          event.value.forEach((val) => this.styleService.setCellStyle(val));\n          break;\n        }\n        this.styleService.setCellStyle(event.value);\n        break;\n      case API.setTableClass:\n        this.tableClass = event.value;\n        this.cdr.detectChanges();\n        break;\n      case API.getPaginationTotalItems:\n        return this.paginationComponent.paginationDirective.getTotalItems();\n      case API.getPaginationCurrentPage:\n        return this.paginationComponent.paginationDirective.getCurrent();\n      case API.getPaginationLastPage:\n        return this.paginationComponent.paginationDirective.getLastPage();\n      case API.getNumberOfRowsPerPage:\n        return this.paginationComponent.paginationDirective.isLastPage()\n          ? this.paginationComponent.paginationDirective.getTotalItems() % this.limit\n          : this.limit;\n      case API.setPaginationCurrentPage:\n        this.paginationComponent.paginationDirective.setCurrent(event.value);\n        break;\n      case API.setPaginationRange:\n        this.paginationComponent.ranges = event.value;\n        break;\n      case API.setPaginationPreviousLabel:\n        this.paginationComponent.previousLabel = event.value;\n        break;\n      case API.setPaginationNextLabel:\n        this.paginationComponent.nextLabel = event.value;\n        break;\n      case API.setPaginationDisplayLimit:\n        this.paginationComponent.changeLimit(event.value, true);\n        break;\n      case API.sortBy:\n        const column: Columns = { title: '', key: event.value.column, orderBy: event.value.order };\n        this.orderBy(column);\n        this.cdr.detectChanges();\n        break;\n      default:\n        break;\n    }\n  }\n\n  private setColumnOrder(key: string): void {\n    switch (this.sortState.get(key)) {\n      case '':\n      case undefined:\n        this.sortState.set(key, 'desc');\n        break;\n      case 'asc':\n        this.config.threeWaySort ? this.sortState.set(key, '') : this.sortState.set(key, 'desc');\n        break;\n      case 'desc':\n        this.sortState.set(key, 'asc');\n        break;\n    }\n    if (this.sortState.size > 1) {\n      const temp = this.sortState.get(key);\n      this.sortState.clear();\n      this.sortState.set(key, temp);\n    }\n  }\n\n  public emitEvent(event: string, value: any): void {\n    this.event.emit({ event, value });\n    if (this.config.persistState) {\n      localStorage.setItem(event, JSON.stringify(value));\n    }\n    if (this.config.logger) {\n      // tslint:disable-next-line:no-console\n      console.log({ event, value });\n    }\n  }\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport { Columns } from '../..';\n\n@Component({\n  selector: 'table-header',\n  templateUrl: './header.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class HeaderComponent {\n  @Input() column: Columns;\n  @Output() readonly update = new EventEmitter<Array<{ key: string; value: string }>>();\n\n  unifyKey(key: string): string {\n    return key.replace('.', '_');\n  }\n\n  onSearch(input: HTMLInputElement): void {\n    this.update.emit([{ value: input.value, key: this.column.key }]);\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  HostListener,\n  Input,\n  OnChanges,\n  Output,\n  SimpleChanges,\n  ViewChild,\n} from '@angular/core';\nimport { Config } from '../..';\nimport { PaginationControlsDirective } from 'ngx-pagination';\n\nexport interface PaginationRange {\n  page: number;\n  limit: number;\n}\n\n@Component({\n  selector: 'pagination',\n  templateUrl: './pagination.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PaginationComponent implements OnChanges {\n  @ViewChild('paginationDirective', { static: true })\n  paginationDirective: PaginationControlsDirective;\n  @ViewChild('paginationRange') paginationRange;\n  @Input() pagination;\n  @Input() config: Config;\n  @Input() id;\n  @Output() readonly updateRange: EventEmitter<PaginationRange> = new EventEmitter();\n  public ranges: number[] = [5, 10, 25, 50, 100];\n  public selectedLimit: number;\n  public showRange = false;\n  public screenReaderPaginationLabel = 'Pagination';\n  public screenReaderPageLabel = 'page';\n  public screenReaderCurrentLabel = 'You are on page';\n  public previousLabel = '';\n  public nextLabel = '';\n  public directionLinks = true;\n\n  @HostListener('document:click', ['$event.target'])\n  public onClick(targetElement: any): void {\n    if (this.paginationRange && !this.paginationRange.nativeElement.contains(targetElement)) {\n      this.showRange = false;\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const { config } = changes;\n    if (config && config.currentValue) {\n      this.selectedLimit = this.config.rows;\n    }\n  }\n\n  onPageChange(page: number): void {\n    this.updateRange.emit({\n      page,\n      limit: this.selectedLimit,\n    });\n  }\n\n  changeLimit(limit: number, callFromAPI: boolean): void {\n    if (!callFromAPI) {\n      this.showRange = !this.showRange;\n    }\n    this.selectedLimit = limit;\n    this.updateRange.emit({\n      page: 1,\n      limit,\n    });\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Pipe({\n  name: 'global',\n})\nexport class GlobalSearchPipe implements PipeTransform {\n  transform(array: any[], filter: string, filteredCountSubject: Subject<number>): any {\n    filteredCountSubject.next(0);\n    if (typeof array === 'undefined') {\n      return;\n    }\n    if (typeof filter === 'undefined' || Object.keys(filter).length === 0 || filter === '') {\n      filteredCountSubject.next(array.length);\n      return array;\n    }\n    const arr = array.filter((row) => {\n      const element = JSON.stringify(Object.values(row));\n      const strings = filter.split(',');\n      return strings.some(\n        (string) => element.toLocaleLowerCase().indexOf(string.trim().toLocaleLowerCase()) > -1\n      );\n    });\n    filteredCountSubject.next(arr.length);\n\n    return arr;\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class FiltersService {\n  static getPath(p: string[], o: any): any {\n    // https://github.com/dherges/ng-packagr/issues/696\n    /* tslint:disable-next-line */\n    const result = p.reduce((xs, x) => (xs && typeof xs[x] !== 'undefined' ? xs[x] : null), o);\n    return result;\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { FiltersService } from '../services/filters.service';\n\n@Pipe({\n  name: 'render',\n})\nexport class RenderPipe implements PipeTransform {\n  transform(row: any, key: string): string {\n    const split = key.split('.');\n\n    return FiltersService.getPath(split, row);\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { FiltersService } from '../services/filters.service';\nimport { Config } from '..';\nimport { Subject } from 'rxjs';\n\n@Pipe({\n  name: 'search',\n})\nexport class SearchPipe implements PipeTransform {\n  private filters: { [key: string]: string } = {};\n\n  transform(\n    array: any[],\n    filter: Array<{ value: string; key: string }>,\n    filteredCountSubject: Subject<number>,\n    config?: Config\n  ): any {\n    filteredCountSubject.next(0);\n    if (typeof array === 'undefined') {\n      return;\n    }\n    if (typeof filter === 'undefined') {\n      filteredCountSubject.next(array.length);\n      return array;\n    }\n    filter.forEach((f) => {\n      this.filters[f.key] = f.value.toString().toLocaleLowerCase();\n      if (Object.keys(f).length === 0 || f.value === '') {\n        // tslint:disable-next-line:no-dynamic-delete\n        delete this.filters[f.key];\n      }\n    });\n    if (config && config.groupRows) {\n      return array.map((arr) => this.filterGroup(arr, filteredCountSubject));\n    }\n    return this.filterGroup(array, filteredCountSubject);\n  }\n\n  private filterGroup(array: any[], filteredCountSubject: Subject<number>): any[] {\n    const arr = array.filter((obj) => {\n      return Object.keys(this.filters).every((c) => {\n        const split = c.split('.');\n        const val = FiltersService.getPath(split, obj);\n        const element =\n          typeof val === 'object' ? JSON.stringify(val) : val.toString().toLocaleLowerCase();\n        const strings = this.filters[c].split(',');\n        return strings.some((string) => element.indexOf(string.trim()) > -1);\n      });\n    });\n    filteredCountSubject.next(arr.length);\n    return arr;\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { FiltersService } from '../services/filters.service';\nimport { Config } from '..';\n\n@Pipe({\n  name: 'sort',\n})\nexport class SortPipe implements PipeTransform {\n  private defaultArray: any[] = [];\n\n  private static isNaN(aV: any, bV: any): boolean {\n    return isNaN(parseFloat(aV)) || !isFinite(aV) || isNaN(parseFloat(bV)) || !isFinite(bV);\n  }\n\n  private static compare(a: any[], b: any[], key: string): number {\n    const split = key.split('.');\n    const aPath = FiltersService.getPath(split, a);\n    const bPath = FiltersService.getPath(split, b);\n    const aValue = (aPath + '').toLowerCase();\n    const bValue = (bPath + '').toLowerCase();\n    if (SortPipe.isNaN(aPath, bPath)) {\n      return aValue.localeCompare(bValue);\n    }\n    if (parseFloat(aPath) < parseFloat(bPath)) {\n      return -1;\n    }\n    if (parseFloat(aPath) > parseFloat(bPath)) {\n      return 1;\n    }\n\n    return 0;\n  }\n\n  transform(array: any[], filter: { order: string; key: string }, config?: Config): any[] {\n    if (this.defaultArray.length === 0) {\n      this.defaultArray = array;\n    }\n    if (!filter.key || filter.key === '') {\n      return array;\n    }\n    if (filter.order === '') {\n      return this.defaultArray;\n    }\n    if (filter.order === 'asc') {\n      return this.sortAsc(array, filter, config);\n    }\n    return this.sortDesc(array, filter, config);\n  }\n\n  private sortAsc(array: any[], filter: { order: string; key: string }, config?: Config): any[] {\n    if (config && config.groupRows) {\n      return array.map((arr) => arr.sort((a, b) => SortPipe.compare(a, b, filter.key)));\n    }\n    return array.sort((a, b) => SortPipe.compare(a, b, filter.key));\n  }\n\n  private sortDesc(array: any[], filter: { order: string; key: string }, config?: Config): any[] {\n    if (config && config.groupRows) {\n      return array.map((arr) => arr.sort((a, b) => SortPipe.compare(b, a, filter.key)));\n    }\n    return array.sort((a, b) => SortPipe.compare(b, a, filter.key));\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  HostListener,\n  Input,\n  Output,\n  TemplateRef,\n  ViewChild,\n} from '@angular/core';\nimport { Columns, Config, Event } from '../..';\nimport { StyleService } from '../../services/style.service';\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\n\n@Component({\n  selector: '[table-thead]',\n  templateUrl: './thead.component.html',\n  styles: [\n    `\n      .cdk-drag-preview {\n        text-align: left;\n        padding-top: 9px;\n        padding-left: 4px;\n        color: #50596c;\n        border: 1px solid #e7e9ed;\n      }\n    `,\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [StyleService],\n})\nexport class TableTHeadComponent {\n  public menuActive = false;\n  public openedHeaderActionTemplate: string | null = null;\n  public startOffset;\n  public onSelectAllBinded = this.onSelectAll.bind(this);\n\n  @Input() config: Config;\n  @Input() columns: Columns[];\n  @Input() sortKey;\n  @Input() sortState;\n  @Input() selectAllTemplate;\n  @Input() filtersTemplate;\n  @Input() additionalActionsTemplate: TemplateRef<void>;\n  @Output() readonly filter = new EventEmitter<Array<{ key: string; value: string }>>();\n  @Output() readonly order = new EventEmitter<Columns>();\n  @Output() readonly selectAll = new EventEmitter<void>();\n  @Output() readonly event = new EventEmitter<{ event: string; value: any }>();\n  @ViewChild('th') private th;\n  @ViewChild('additionalActionMenu') additionalActionMenu;\n  @HostListener('document:click', ['$event.target'])\n  public onClick(targetElement: any): void {\n    if (\n      this.additionalActionMenu &&\n      !this.additionalActionMenu.nativeElement.contains(targetElement)\n    ) {\n      this.menuActive = false;\n    }\n  }\n\n  constructor(public readonly styleService: StyleService) {}\n\n  getColumnDefinition(column: Columns): boolean {\n    return column.searchEnabled || typeof column.searchEnabled === 'undefined';\n  }\n\n  orderBy(column: Columns): void {\n    this.order.emit(column);\n  }\n\n  isOrderEnabled(column: Columns): boolean {\n    const columnOrderEnabled = column.orderEnabled === undefined ? true : !!column.orderEnabled;\n    return this.config.orderEnabled && columnOrderEnabled;\n  }\n\n  columnDrop(event: CdkDragDrop<string[]>): void {\n    moveItemInArray(this.columns, event.previousIndex, event.currentIndex);\n  }\n\n  onSearch($event: Array<{ key: string; value: string }>): void {\n    this.filter.emit($event);\n  }\n\n  getColumnWidth(column: any): string | null {\n    if (column.width) {\n      return column.width;\n    }\n    return this.config.fixedColumnWidth ? 100 / this.columns.length + '%' : null;\n  }\n\n  onSelectAll(): void {\n    this.selectAll.emit();\n  }\n\n  onMouseDown(event: MouseEvent, th: HTMLTableHeaderCellElement): void {\n    if (!this.config.resizeColumn) {\n      return;\n    }\n    this.th = th;\n    this.startOffset = th.offsetWidth - event.pageX;\n    this.event.emit({\n      event: Event.onColumnResizeMouseDown,\n      value: event,\n    });\n  }\n\n  onMouseMove(event: MouseEvent): void {\n    if (!this.config.resizeColumn) {\n      return;\n    }\n    if (this.th && this.th.style) {\n      this.th.style.width = this.startOffset + event.pageX + 'px';\n      this.th.style.cursor = 'col-resize';\n      this.th.style['user-select'] = 'none';\n    }\n  }\n\n  onMouseUp(event: MouseEvent): void {\n    if (!this.config.resizeColumn) {\n      return;\n    }\n    this.event.emit({\n      event: Event.onColumnResizeMouseUp,\n      value: event,\n    });\n    this.th.style.cursor = 'default';\n    this.th = undefined;\n  }\n\n  showHeaderActionTemplateMenu(column: Columns): void {\n    if (!column.headerActionTemplate) {\n      console.error('Column [headerActionTemplate] property not defined');\n    }\n    if (this.openedHeaderActionTemplate === column.key) {\n      this.openedHeaderActionTemplate = null;\n      return;\n    }\n    this.openedHeaderActionTemplate = column.key;\n  }\n\n  showMenu(): void {\n    if (!this.additionalActionsTemplate) {\n      console.error('[additionalActionsTemplate] property not defined');\n    }\n    this.menuActive = !this.menuActive;\n  }\n}\n","import { DragDropModule } from '@angular/cdk/drag-drop';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { BaseComponent } from './base.component';\n\nimport { HeaderComponent } from '../header/header.component';\nimport { PaginationComponent } from '../pagination/pagination.component';\n\nimport { GlobalSearchPipe } from '../../pipes/global-search-pipe';\nimport { RenderPipe } from '../../pipes/render-pipe';\nimport { SearchPipe } from '../../pipes/search-pipe';\nimport { SortPipe } from '../../pipes/sort.pipe';\n\nimport { NgxPaginationModule } from 'ngx-pagination';\nimport { TableTHeadComponent } from '../thead/thead.component';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\n\n@NgModule({\n  declarations: [\n    BaseComponent,\n    HeaderComponent,\n    PaginationComponent,\n    TableTHeadComponent,\n\n    // Pipes\n    SearchPipe,\n    RenderPipe,\n    GlobalSearchPipe,\n    SortPipe,\n  ],\n  imports: [CommonModule, NgxPaginationModule, DragDropModule, ScrollingModule],\n  exports: [BaseComponent],\n})\nexport class BaseModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { BaseComponent } from './components/base/base.component';\nimport { BaseModule } from './components/base/base.module';\n\n@NgModule({\n  imports: [CommonModule, BaseModule],\n  exports: [BaseComponent],\n  providers: [],\n})\nexport class TableModule {}\n"]}